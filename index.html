<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <h>Temp</h>
    <p id="Temprature"></p>
    <h>Humidity</h>
    <p id="Humidity"></p>
    <h>Weather Conditions</h>
    <p id="Weather"></p>
</body>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script>
// Funciton that grabs weather from open-meteo and displays it to user
async function queryWeather(){
    try {
        const objResponse = await fetch('https://api.open-meteo.com/v1/forecast?latitude=36.1628&longitude=-85.5016&current=temperature_2m,relative_humidity_2m,weather_code&temperature_unit=fahrenheit&wind_speed_unit=mph&precipitation_unit=inch&timezone=America%2FChicago',{
            method:'GET',
            headers: {
                'Content-Type':'application/json'
                },
        })

        if(!objResponse.ok){
            throw new Error(`HTTP Error Status:${objResponse.status}`)
        }

        const objData = await objResponse.json()  
        // Update HTML with Current Weather conditions pulled form fetch
        document.getElementById("Temprature").textContent = objData.current.temperature_2m + " Â°F"
        document.getElementById("Humidity").textContent = objData.current.relative_humidity_2m + " %"

        // Switch Case used for setting the current weather conditon
        switch(objData.current.weather_code) {
        case 0:
            interpretation = "Clear sky";
            break;
        case 1:
            interpretation = "Mainly clear";
            break;
        case 2:
            interpretation = "Partly cloudy";
            break;
        case 3:
            interpretation = "Cloudy";
            break;
        case 45:
            interpretation = "Fog";
            break;
        case 48:
            interpretation = "Depositing rime fog";
            break;
        case 51:
            interpretation = "Light drizzle";
            break;
        case 53:
            interpretation = "Moderate drizzle";
            break;
        case 55:
            interpretation = "Heavy drizzle";
            break;
        case 61:
            interpretation = "Light rain";
            break;
        case 63:
            interpretation = "Moderate rain";
            break;
        case 65:
            interpretation = "Heavy rain";
            break;
        case 71:
            interpretation = "Light snow";
            break;
        case 73:
            interpretation = "Moderate snow";
            break;
        case 75:
            interpretation = "Heavy snow";
            break;
        case 77:
            interpretation = "Snow grains";
            break;
        case 80:
            interpretation = "Light shower rain";
            break;
        case 81:
            interpretation = "Moderate shower rain";
            break;
        case 82:
            interpretation = "Heavy shower rain";
            break;
        case 85:
            interpretation = "Light snow showers";
            break;
        case 86:
            interpretation = "Heavy snow showers";
            break;
        case 95:
            interpretation = "Thunderstorm";
            break;
        case 96:
            interpretation = "Thunderstorm with hail";
            break;
        case 99:
            interpretation = "Thunderstorm with heavy hail";
            break;
        default:
            interpretation = "Unknown weather code";
    }

    // Update the text content of the <p> tag with id="weather"
    document.getElementById("Weather").textContent = interpretation;
        
    } catch(objError){
        console.log('Error fetching objData',objError)
        }
}

// Function Call for queryWeather()
queryWeather()

// AI Use
// I used AI to save time by generating the switch case for updating the weather condtion, I used ChatGPT for this
</script>
</html>


