<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body class="bg-secondary">
    <div class="card text-white bg-dark text-center">
        <div class="card-body">
          <h5 class="card-title">Cookeville, TN</h5>
        </div>
    </div>
    <div class="d-flex min-vh-100 justify-content-center align-items-center">
        <div class="card-group w-50">
            <div class="card text-white bg-dark text-center">
              <div class="card-body">
                <h5 class="card-title mb-4">Tempature</h5>
                <p class="card-text" id="Temprature"></p>
              </div>
            </div>
            <div class="card text-white bg-dark text-center">
              <div class="card-body">
                <h5 class="card-title mb-4">Humidity</h5>
                <p class="card-text" id="Humidity"></p>
              </div>
            </div>
            <div class="card text-white bg-dark text-center">
              <div class="card-body">
                <h5 class="card-title">Conditions</h5>
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-brightness-high" viewBox="0 0 16 16">
                    <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"/>
                </svg>
                <p class="card-text" id="Conditions"></p>
              </div>
            </div>
        </div>
    </div>
</body>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script>
// Funciton that grabs weather from open-meteo and displays it to user
async function queryWeather(){
    try {
        const objResponse = await fetch('https://api.open-meteo.com/v1/forecast?latitude=36.1628&longitude=-85.5016&current=temperature_2m,relative_humidity_2m,weather_code&temperature_unit=fahrenheit&wind_speed_unit=mph&precipitation_unit=inch&timezone=America%2FChicago',{
            method:'GET',
            headers: {
                'Content-Type':'application/json'
                },
        })

        if(!objResponse.ok){
            throw new Error(`HTTP Error Status:${objResponse.status}`)
        }

        const objData = await objResponse.json()  
        // Update HTML with Current Weather conditions pulled form fetch
        document.getElementById("Temprature").textContent = objData.current.temperature_2m + " Â°F"
        document.getElementById("Humidity").textContent = objData.current.relative_humidity_2m + " %"

        // Switch Case used for setting the current weather conditon
        switch(objData.current.weather_code) {
        case 0:
            interpretation = "Clear sky";
            break;
        case 1:
            interpretation = "Mainly clear";
            break;
        case 2:
            interpretation = "Partly cloudy";
            break;
        case 3:
            interpretation = "Cloudy";
            break;
        case 45:
            interpretation = "Fog";
            break;
        case 48:
            interpretation = "Depositing rime fog";
            break;
        case 51:
            interpretation = "Light drizzle";
            break;
        case 53:
            interpretation = "Moderate drizzle";
            break;
        case 55:
            interpretation = "Heavy drizzle";
            break;
        case 61:
            interpretation = "Light rain";
            break;
        case 63:
            interpretation = "Moderate rain";
            break;
        case 65:
            interpretation = "Heavy rain";
            break;
        case 71:
            interpretation = "Light snow";
            break;
        case 73:
            interpretation = "Moderate snow";
            break;
        case 75:
            interpretation = "Heavy snow";
            break;
        case 77:
            interpretation = "Snow grains";
            break;
        case 80:
            interpretation = "Light shower rain";
            break;
        case 81:
            interpretation = "Moderate shower rain";
            break;
        case 82:
            interpretation = "Heavy shower rain";
            break;
        case 85:
            interpretation = "Light snow showers";
            break;
        case 86:
            interpretation = "Heavy snow showers";
            break;
        case 95:
            interpretation = "Thunderstorm";
            break;
        case 96:
            interpretation = "Thunderstorm with hail";
            break;
        case 99:
            interpretation = "Thunderstorm with heavy hail";
            break;
        default:
            interpretation = "Unknown weather code";
    }

    // Update the text content of the <p> tag with id="weather"
    document.getElementById("Conditions").textContent = interpretation;
        
    } catch(objError){
        console.log('Error fetching objData',objError)
        }
}

// Function Call for queryWeather()
queryWeather()

// AI Use
// I used AI to save time by generating the switch case for updating the weather condtion, I used ChatGPT for this
</script>
</html>


